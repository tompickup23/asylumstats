---
const navItems = [
  { href: "/", label: "Home" },
  { href: "/compare", label: "Compare" },
  { href: "/routes", label: "Routes" },
  { href: "/hotels", label: "Hotels" },
  { href: "/spending", label: "Spending" },
  { href: "/releases", label: "Releases" },
  { href: "/sources", label: "Sources" },
  { href: "/methodology", label: "Methodology" }
];

const pathname = Astro.url.pathname;

function isActive(href: string): boolean {
  if (href === "/") {
    return pathname === "/";
  }

  return pathname === href || pathname.startsWith(`${href}/`);
}
---

<header class="site-header shell">
  <a class="brand" href="/">
    <span class="brand-mark">AS</span>
    <span class="brand-copy">
      <span>asylumstats</span>
      <small>UK asylum accountability</small>
    </span>
  </a>

  <nav class="site-nav" aria-label="Primary">
    {navItems.map((item) => (
      <a href={item.href} aria-current={isActive(item.href) ? "page" : undefined}>{item.label}</a>
    ))}
  </nav>
</header>
