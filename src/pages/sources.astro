---
import BaseLayout from "../layouts/BaseLayout.astro";
import sourceScope from "../data/live/source-scope.json";
---

<BaseLayout title="Sources | asylumstats">
  <section class="page-head">
    <span class="kicker">Sources</span>
    <h1>Every published source needs a scope label before it gets a chart.</h1>
    <p>
      The core publishing rule is simple: route-specific and explicitly local route-relevant sources can appear on
      public pages. `Context only` sources stay in the research layer unless a row can be promoted with a clear route or
      scheme link.
    </p>
  </section>

  <section class="section">
    <h2>Source ledger</h2>
    <div class="table-card">
      <table>
        <thead>
          <tr>
            <th>Source</th>
            <th>Type</th>
            <th>Scope</th>
            <th>Public use</th>
            <th>Used for</th>
          </tr>
        </thead>
        <tbody>
          {sourceScope.map((source) => (
            <tr>
              <td>
                <strong>{source.name}</strong>
                <div class="tiny">
                  <a class="source-pill" href={source.sourceUrl}>Open source</a>
                </div>
              </td>
              <td>{source.type}</td>
              <td>{source.scope}</td>
              <td>{source.publiclyIncluded}</td>
              <td>{source.use}</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  </section>
</BaseLayout>
